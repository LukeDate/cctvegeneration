{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/cctv/cctv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/admin/cctv/cctv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_TO_CART}from'../actions/cartActions';import{REMOVE_ITEM}from'../actions/cartActions';import{SUB_QUANTITY}from'../actions/cartActions';import{ADD_QUANTITY}from'../actions/cartActions';var Items=[{\"title\":\"T-Shirt\",\"imageUrl\":{\"front\":\"/assets/cctv-assets/front.jpg\",\"back\":\"/assets/cctv-assets/back.jpg\"},\"id\":0,\"price\":69},{\"title\":\"T-Shirt\",\"imageUrl\":{\"front\":\"/assets/cctv-assets/front.jpg\",\"back\":\"/assets/cctv-assets/back.jpg\"},\"id\":1,\"price\":69},{\"title\":\"T-Shirt\",\"imageUrl\":{\"front\":\"/assets/cctv-assets/front.jpg\",\"back\":\"/assets/cctv-assets/back.jpg\"},\"id\":2,\"price\":69},{\"title\":\"T-Shirt\",\"imageUrl\":{\"front\":\"/assets/cctv-assets/front.jpg\",\"back\":\"/assets/cctv-assets/back.jpg\"},\"id\":3,\"price\":69},{\"title\":\"T-Shirt\",\"imageUrl\":{\"front\":\"/assets/cctv-assets/front.jpg\",\"back\":\"/assets/cctv-assets/back.jpg\"},\"id\":4,\"price\":69},{\"title\":\"T-Shirt\",\"imageUrl\":{\"front\":\"/assets/cctv-assets/front.jpg\",\"back\":\"/assets/cctv-assets/back.jpg\"},\"id\":5,\"price\":69}];var initState={items:Items,addedItems:[],total:0};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;var addedItem=state.items.find(function(item){return item.id===action.id;});switch(action.type){case ADD_TO_CART:var existed_item=state.addedItems.find(function(item){return action.id===item.id;});if(existed_item){addedItem.quantity+=1;return _objectSpread({},state,{total:state.total+addedItem.price});}else{addedItem.quantity=1;var _newTotal=state.total+addedItem.price;return _objectSpread({},state,{addedItems:[].concat(_toConsumableArray(state.addedItems),[addedItem]),total:_newTotal});};case REMOVE_ITEM:var itemToRemove=state.addedItems.find(function(item){return action.id===item.id;});var new_items=state.addedItems.filter(function(item){return action.id!==item.id;});console.log('new_items',new_items);var newTotal=state.total-itemToRemove.price*itemToRemove.quantity;addedItem.quantity=0;return _objectSpread({},state,{addedItems:new_items,total:newTotal});case ADD_QUANTITY:addedItem.quantity+=1;var newTotalAdd=state.total+addedItem.price;return _objectSpread({},state,{addedItems:_toConsumableArray(state.addedItems),total:newTotalAdd});case SUB_QUANTITY:if(addedItem.quantity===1){var _new_items=state.addedItems.filter(function(item){return item.id!==action.id;});var _newTotal2=state.total-addedItem.price;return _objectSpread({},state,{addedItems:_new_items,total:_newTotal2});}else{addedItem.quantity-=1;var _newTotal3=state.total-addedItem.price;return _objectSpread({},state,{addedItems:_toConsumableArray(state.addedItems),total:_newTotal3});}default:return state;}};export default cartReducer;","map":{"version":3,"sources":["/Users/admin/cctv/cctv/src/redux/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","Items","initState","items","addedItems","total","cartReducer","state","action","addedItem","find","item","id","type","existed_item","quantity","price","newTotal","itemToRemove","new_items","filter","console","log","newTotalAdd"],"mappings":"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","sourcesContent":["import { ADD_TO_CART } from '../actions/cartActions';\nimport { REMOVE_ITEM } from '../actions/cartActions';\nimport { SUB_QUANTITY } from '../actions/cartActions';\nimport { ADD_QUANTITY } from '../actions/cartActions';\n\n \nconst Items = [\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 0,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 1,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 2,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 3,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 4,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 5,\n        \"price\": 69\n    }\n]\n\n\nconst initState = {\n    items: Items,\n    addedItems: [],\n    total: 0\n}\n\nconst cartReducer = (state = initState, action) => {\n    let addedItem = state.items.find(item => item.id === action.id);\n    switch(action.type) {\n        \n        case ADD_TO_CART:\n\n            let existed_item = state.addedItems.find(item => action.id === item.id);\n\n            if(existed_item) {\n                addedItem.quantity += 1;\n                return {\n                    ...state,\n                    total: state.total + addedItem.price\n                } \n            } else {\n                addedItem.quantity = 1;\n                let newTotal = state.total + addedItem.price\n                return {\n                    ...state,\n                    addedItems: [...state.addedItems, addedItem],\n                    total: newTotal\n                }\n        };\n\n        case REMOVE_ITEM:\n            let itemToRemove = state.addedItems.find(item => action.id === item.id)\n            let new_items = state.addedItems.filter(item => action.id !== item.id)\n            console.log('new_items', new_items);\n            let newTotal = state.total - (itemToRemove.price *  itemToRemove.quantity)\n            addedItem.quantity = 0;\n            return {\n                ...state,\n                addedItems: new_items,\n                total: newTotal\n            }\n\n        case ADD_QUANTITY:\n            addedItem.quantity += 1;\n            let newTotalAdd= state.total + addedItem.price;\n            return {\n                ...state,\n                addedItems: [...state.addedItems],\n                total: newTotalAdd\n            }\n        case SUB_QUANTITY:\n\n            if(addedItem.quantity === 1) {\n                let new_items = state.addedItems.filter(item => item.id !== action.id)\n                let newTotal = state.total - addedItem.price\n                return {\n                    ...state,\n                    addedItems: new_items,\n                    total: newTotal\n                }\n            } else {\n                addedItem.quantity -= 1;\n                let newTotal = state.total - addedItem.price;\n                return {\n                    ...state,\n                    addedItems: [...state.addedItems],\n                    total: newTotal                \n                }\n            }\n            \n        default:\n            return state;\n        \n    }\n}\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}