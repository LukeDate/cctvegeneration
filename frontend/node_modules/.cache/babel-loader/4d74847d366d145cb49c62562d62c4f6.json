{"ast":null,"code":"import { ADD_TO_CART } from '../actions/cartActions';\nimport { REMOVE_ITEM } from '../actions/cartActions';\nimport { SUB_QUANTITY } from '../actions/cartActions';\nimport { ADD_QUANTITY } from '../actions/cartActions';\nconst Items = [{\n  \"title\": \"T-Shirt\",\n  \"imageUrl\": {\n    \"front\": \"/assets/cctv-assets/front.jpg\",\n    \"back\": \"/assets/cctv-assets/back.jpg\"\n  },\n  \"id\": 0,\n  \"price\": 69\n}, {\n  \"title\": \"T-Shirt\",\n  \"imageUrl\": {\n    \"front\": \"/assets/cctv-assets/front.jpg\",\n    \"back\": \"/assets/cctv-assets/back.jpg\"\n  },\n  \"id\": 1,\n  \"price\": 69\n}, {\n  \"title\": \"T-Shirt\",\n  \"imageUrl\": {\n    \"front\": \"/assets/cctv-assets/front.jpg\",\n    \"back\": \"/assets/cctv-assets/back.jpg\"\n  },\n  \"id\": 2,\n  \"price\": 69\n}, {\n  \"title\": \"T-Shirt\",\n  \"imageUrl\": {\n    \"front\": \"/assets/cctv-assets/front.jpg\",\n    \"back\": \"/assets/cctv-assets/back.jpg\"\n  },\n  \"id\": 3,\n  \"price\": 69\n}, {\n  \"title\": \"T-Shirt\",\n  \"imageUrl\": {\n    \"front\": \"/assets/cctv-assets/front.jpg\",\n    \"back\": \"/assets/cctv-assets/back.jpg\"\n  },\n  \"id\": 4,\n  \"price\": 69\n}, {\n  \"title\": \"T-Shirt\",\n  \"imageUrl\": {\n    \"front\": \"/assets/cctv-assets/front.jpg\",\n    \"back\": \"/assets/cctv-assets/back.jpg\"\n  },\n  \"id\": 5,\n  \"price\": 69\n}];\nconst initState = {\n  items: Items,\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  let addedItem = state.items.find(item => item.id === action.id);\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      let existed_item = state.addedItems.find(item => action.id === item.id);\n\n      if (existed_item) {\n        addedItem.quantity += 1;\n        return { ...state,\n          total: state.total + addedItem.price\n        };\n      } else {\n        addedItem.quantity = 1;\n        let newTotal = state.total + addedItem.price;\n        return { ...state,\n          addedItems: [...state.addedItems, addedItem],\n          total: newTotal\n        };\n      }\n\n      ;\n\n    case REMOVE_ITEM:\n      let itemToRemove = state.addedItems.find(item => action.id === item.id);\n      let new_items = state.addedItems.filter(item => action.id !== item.id);\n      console.log('new_items', new_items);\n      let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n      addedItem.quantity = 0;\n      return { ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n\n    case ADD_QUANTITY:\n      addedItem.quantity += 1;\n      let newTotalAdd = state.total + addedItem.price;\n      return { ...state,\n        addedItems: [...state.addedItems],\n        total: newTotalAdd\n      };\n\n    case SUB_QUANTITY:\n      if (addedItem.quantity === 1) {\n        let new_items = state.addedItems.filter(item => item.id !== action.id);\n        let newTotal = state.total - addedItem.price;\n        return { ...state,\n          addedItems: new_items,\n          total: newTotal\n        };\n      } else {\n        addedItem.quantity -= 1;\n        let newTotal = state.total - addedItem.price;\n        return { ...state,\n          addedItems: [...state.addedItems],\n          total: newTotal\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/admin/cctv/cctv/src/redux/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","Items","initState","items","addedItems","total","cartReducer","state","action","addedItem","find","item","id","type","existed_item","quantity","price","newTotal","itemToRemove","new_items","filter","console","log","newTotalAdd"],"mappings":"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","sourcesContent":["import { ADD_TO_CART } from '../actions/cartActions';\nimport { REMOVE_ITEM } from '../actions/cartActions';\nimport { SUB_QUANTITY } from '../actions/cartActions';\nimport { ADD_QUANTITY } from '../actions/cartActions';\n\n \nconst Items = [\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 0,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 1,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 2,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 3,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 4,\n        \"price\": 69\n    },\n    {\n        \"title\":\"T-Shirt\",\n        \"imageUrl\": {\n            \"front\": \"/assets/cctv-assets/front.jpg\",\n            \"back\": \"/assets/cctv-assets/back.jpg\"\n        },\n        \"id\": 5,\n        \"price\": 69\n    }\n]\n\n\nconst initState = {\n    items: Items,\n    addedItems: [],\n    total: 0\n}\n\nconst cartReducer = (state = initState, action) => {\n    let addedItem = state.items.find(item => item.id === action.id);\n    switch(action.type) {\n        \n        case ADD_TO_CART:\n\n            let existed_item = state.addedItems.find(item => action.id === item.id);\n\n            if(existed_item) {\n                addedItem.quantity += 1;\n                return {\n                    ...state,\n                    total: state.total + addedItem.price\n                } \n            } else {\n                addedItem.quantity = 1;\n                let newTotal = state.total + addedItem.price\n                return {\n                    ...state,\n                    addedItems: [...state.addedItems, addedItem],\n                    total: newTotal\n                }\n        };\n\n        case REMOVE_ITEM:\n            let itemToRemove = state.addedItems.find(item => action.id === item.id)\n            let new_items = state.addedItems.filter(item => action.id !== item.id)\n            console.log('new_items', new_items);\n            let newTotal = state.total - (itemToRemove.price *  itemToRemove.quantity)\n            addedItem.quantity = 0;\n            return {\n                ...state,\n                addedItems: new_items,\n                total: newTotal\n            }\n\n        case ADD_QUANTITY:\n            addedItem.quantity += 1;\n            let newTotalAdd= state.total + addedItem.price;\n            return {\n                ...state,\n                addedItems: [...state.addedItems],\n                total: newTotalAdd\n            }\n        case SUB_QUANTITY:\n\n            if(addedItem.quantity === 1) {\n                let new_items = state.addedItems.filter(item => item.id !== action.id)\n                let newTotal = state.total - addedItem.price\n                return {\n                    ...state,\n                    addedItems: new_items,\n                    total: newTotal\n                }\n            } else {\n                addedItem.quantity -= 1;\n                let newTotal = state.total - addedItem.price;\n                return {\n                    ...state,\n                    addedItems: [...state.addedItems],\n                    total: newTotal                \n                }\n            }\n            \n        default:\n            return state;\n        \n    }\n}\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}