{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY } from '../actions/cartActions';\nconst Items = [{\n  title: 'T-Shirt',\n  imageUrl: {\n    front: '/assets/cctv-assets/front.jpg',\n    back: '/assets/cctv-assets/back.jpg'\n  },\n  id: 0,\n  price: 69\n}, {\n  title: 'T-Shirt',\n  imageUrl: {\n    front: '/assets/cctv-assets/front.jpg',\n    back: '/assets/cctv-assets/back.jpg'\n  },\n  id: 1,\n  price: 69\n}, {\n  title: 'T-Shirt',\n  imageUrl: {\n    front: '/assets/cctv-assets/front.jpg',\n    back: '/assets/cctv-assets/back.jpg'\n  },\n  id: 2,\n  price: 69\n}, {\n  title: 'T-Shirt',\n  imageUrl: {\n    front: '/assets/cctv-assets/front.jpg',\n    back: '/assets/cctv-assets/back.jpg'\n  },\n  id: 3,\n  price: 69\n}, {\n  title: 'T-Shirt',\n  imageUrl: {\n    front: '/assets/cctv-assets/front.jpg',\n    back: '/assets/cctv-assets/back.jpg'\n  },\n  id: 4,\n  price: 69\n}, {\n  title: 'T-Shirt',\n  imageUrl: {\n    front: '/assets/cctv-assets/front.jpg',\n    back: '/assets/cctv-assets/back.jpg'\n  },\n  id: 5,\n  price: 69\n}];\nconst initState = {\n  items: Items,\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  const addedItem = state.items.find(item => item.id === action.id);\n  console.log(\"addedItem\", action);\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      const existed_item = state.addedItems.find(item => action.id === item.id);\n\n      if (existed_item) {\n        addedItem.quantity += 1;\n        return { ...state,\n          total: state.total + addedItem.price\n        };\n      } else {\n        addedItem.quantity = 1;\n        const newTotal = state.total + addedItem.price;\n        return { ...state,\n          addedItems: [...state.addedItems, addedItem],\n          total: newTotal\n        };\n      }\n\n      ;\n\n    case REMOVE_ITEM:\n      const itemToRemove = state.addedItems.find(item => action.id === item.id);\n      const new_items = state.addedItems.filter(item => action.id !== item.id);\n      console.log('new_items', new_items);\n      const newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n      addedItem.quantity = 0;\n      return { ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n\n    case ADD_QUANTITY:\n      addedItem.quantity += 1;\n      const newTotalAdd = state.total + addedItem.price;\n      return { ...state,\n        addedItems: [...state.addedItems],\n        total: newTotalAdd\n      };\n\n    case SUB_QUANTITY:\n      if (addedItem.quantity === 1) {\n        const new_items = state.addedItems.filter(item => item.id !== action.id);\n        const newTotal = state.total - addedItem.price;\n        return { ...state,\n          addedItems: new_items,\n          total: newTotal\n        };\n      } else {\n        addedItem.quantity -= 1;\n        const newTotal = state.total - addedItem.price;\n        return { ...state,\n          addedItems: [...state.addedItems],\n          total: newTotal\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/admin/cctv/cctv/src/redux/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","Items","title","imageUrl","front","back","id","price","initState","items","addedItems","total","cartReducer","state","action","addedItem","find","item","console","log","type","existed_item","quantity","newTotal","itemToRemove","new_items","filter","newTotalAdd"],"mappings":"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","sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY } from '../actions/cartActions'\n\nconst Items = [\n  {\n    title: 'T-Shirt',\n    imageUrl: {\n      front: '/assets/cctv-assets/front.jpg',\n      back: '/assets/cctv-assets/back.jpg'\n    },\n    id: 0,\n    price: 69\n  },\n  {\n    title: 'T-Shirt',\n    imageUrl: {\n      front: '/assets/cctv-assets/front.jpg',\n      back: '/assets/cctv-assets/back.jpg'\n    },\n    id: 1,\n    price: 69\n  },\n  {\n    title: 'T-Shirt',\n    imageUrl: {\n      front: '/assets/cctv-assets/front.jpg',\n      back: '/assets/cctv-assets/back.jpg'\n    },\n    id: 2,\n    price: 69\n  },\n  {\n    title: 'T-Shirt',\n    imageUrl: {\n      front: '/assets/cctv-assets/front.jpg',\n      back: '/assets/cctv-assets/back.jpg'\n    },\n    id: 3,\n    price: 69\n  },\n  {\n    title: 'T-Shirt',\n    imageUrl: {\n      front: '/assets/cctv-assets/front.jpg',\n      back: '/assets/cctv-assets/back.jpg'\n    },\n    id: 4,\n    price: 69\n  },\n  {\n    title: 'T-Shirt',\n    imageUrl: {\n      front: '/assets/cctv-assets/front.jpg',\n      back: '/assets/cctv-assets/back.jpg'\n    },\n    id: 5,\n    price: 69\n  }\n]\n\nconst initState = {\n  items: Items,\n  addedItems: [],\n  total: 0\n}\n\nconst cartReducer = (state = initState, action) => {\n  const addedItem = state.items.find(item => item.id === action.id)\n  console.log(\"addedItem\", action);\n  switch (action.type) {\n    case ADD_TO_CART:\n\n      const existed_item = state.addedItems.find(item => action.id === item.id)\n\n      if (existed_item) {\n        addedItem.quantity += 1\n        return {\n          ...state,\n          total: state.total + addedItem.price\n        }\n      } else {\n        addedItem.quantity = 1\n        const newTotal = state.total + addedItem.price\n        return {\n          ...state,\n          addedItems: [...state.addedItems, addedItem],\n          total: newTotal\n        }\n      };\n\n    case REMOVE_ITEM:\n      const itemToRemove = state.addedItems.find(item => action.id === item.id)\n      const new_items = state.addedItems.filter(item => action.id !== item.id)\n      console.log('new_items', new_items)\n      const newTotal = state.total - (itemToRemove.price * itemToRemove.quantity)\n      addedItem.quantity = 0\n      return {\n        ...state,\n        addedItems: new_items,\n        total: newTotal\n      }\n\n    case ADD_QUANTITY:\n      addedItem.quantity += 1\n      const newTotalAdd = state.total + addedItem.price\n      return {\n        ...state,\n        addedItems: [...state.addedItems],\n        total: newTotalAdd\n      }\n    case SUB_QUANTITY:\n\n      if (addedItem.quantity === 1) {\n        const new_items = state.addedItems.filter(item => item.id !== action.id)\n        const newTotal = state.total - addedItem.price\n        return {\n          ...state,\n          addedItems: new_items,\n          total: newTotal\n        }\n      } else {\n        addedItem.quantity -= 1\n        const newTotal = state.total - addedItem.price\n        return {\n          ...state,\n          addedItems: [...state.addedItems],\n          total: newTotal\n        }\n      }\n\n    default:\n      return state\n  }\n}\n\nexport default cartReducer\n"]},"metadata":{},"sourceType":"module"}